### 과제를 통해 기대하는 역량

- 깃허브를 통한 코드리뷰를 경험해보자
- 기본적인 테스트 코드 작성 및 활용하는 능력해보자
- 스스로 OOP를 생각하고 코드로 옮길 수 있는 능력해보자

### 요구사항
- 콘솔로 구현입니다.(스윙으로 구현하시는 분들 계실까봐) 
- 객체지향적인 코드로 계산기 구현하기
    - [ ]  더하기
    - [ ]  빼기
    - [ ]  곱하기
    - [ ]  나누기
    - [ ]  우선순위(사칙연산)
- [ ]  테스트 코드 구현하기
- [ ]  계산 이력을 맵으로 데이터 저장기능 만들기
    - 애플리케이션이 동작하는 동안 데이터베이스 외에 데이터를 저장할 수 있는 방법을 고안해보세요.
- (선택) 정규식 사용

-----

### 요구사항 체크

- 사칙연산(`+`, `-`, `*`, `/`)을 구현하였습니다.

- 테스트 코드를 작성하였습니다.
  - 다만, **mock을 이용한 적절한 단위 테스트 작성**은 아직 제대로 해내지 못했습니다.
  - 주 계산 / 변환 기능을 제외한 부분의 테스트 작성은 미진합니다.
- 계산 이력을 맵으로 저장하였습니다.
  - 계산 결과를 `repository`에 `Map`을 이용하여 저장하였습니다.
    - 직전 계산 결과를 조회 가능하며
    - 입력 하였던 계산식을 다시 입력하여 과거 결과를 재확인할 수 있습니다(`Map`을 사용했으니 당연)
    - `repository`에 저장한 지금까지의 모든 결과를 출력하는 기능이 존재합니다.
- 정규식을 사용하여 연산자, 피연산자를 체크합니다.



### 작성 의도

- 코드리뷰를 통한 학습이 목표다보니, 각 코드를 작성한 의도에 대해서 설명해두는 편이 나을 것 같습니다.

- 우선 이 계산기 프로젝트는 중위 표기식(1 + 1)형태로 전달된 연산 표현식을 후위 표기식(1 1 +)형태로 변환하여 계산을 수행합니다.

- 기본 수 계산 뿐만 아니라 `boolean` 값을 계산하는 구현 클래스들이 있습니다.

  - 피연산자로 TF를 받고 그것들을 연결하여 결과값이 T인지 F인지 반환하는 단순한 구조입니다.
  - 실행은 됩니다만, 이번 프로젝트의 확장 가능성을 시험한다는 의미가 더 강했습니다.
  - 그 점에서 `Numeral~`계통 클래스에 대해서 좀 더 질문드리고 싶은 사항이 많습니다.

  

#### 먼저 `PostfixParser`추상 클래스 입니다.

- 인터페이스가 아닌 추상 클래스인 까닭은 막상 공통 부분으로 빼낼 만한 부분이 많았기 때문에
  기본적인 구현 뼈대를 제공한다는 의미에서 인터페이스 보다는 추상 클래스가 더 적절하다고 생각하였기 때문입니다.
- 구현체로 `NumeralPostfixParser`가 있습니다.
- **질문드리고 싶은 부분**은 구현 클래스의 코드 어느 정도를 인터페이스의 `default`메서드나 추상 클래스의 구현 메서드로 빼줘야 하느냐는 점입니다.
  코드의 재사용성이라는 점에서는 다른 구현체와 겹치는 부분은 가능한 한 빼고 싶은데, 나중에 어떤 것이 들어올 지 모른다는 점에서 고민이 되었습니다.



#### `TypeChecker` 인터페이스 입니다.

- 주어진 `String`이 연산자인지, 피연산자인지, 이것이 연산자 우선순위에서 얼마나 높은 우선성을 갖는지 등을 판별하는 데 도움을 줍니다.
- **질문드리고 싶은 점**은 이 클래스의 기능 특성상 계산기 로직에 온갖 곳에 들어가기 때문에 각 기능의 결합도를 높이는 것 같다고 느꼈는데,
  이런 공통 유틸리티 기능에 가까운 것들은 어떻게 처리해주는 것이 이상적인지 궁금합니다.
- 일단, 저 같은 경우 처음에는 `static` 메서드를 사용하는 유틸리티 클래스를 사용하다가 이게 객체지향적이지 못 하다고 느껴서 `static` 메서드가 아니게 만들고, 이 `TypeChecker`를 사용하는 모든 클래스들에 대해서 외부의 `ObjectContainer`를 이용하여 DI를 하는 방식으로 이 난잡한 의존성을 정리해보려고 의도하기는 했습니다.



#### `PostfixSolver`입니다.

- 변환되어 온 후위 표기식을 읽는 역할을 합니다. 구현에 따라 직접 연산을 수행할 수도 있습니다만
- 저 같은 경우는 연산 부분은 별도의 연산 담당 클래스인 `NumeralCalculator`에게 위임하였습니다. 표기식을 해석하는 책임과 연산을 직접 수행하는 책임은 별도라고 생각했기 때문입니다.
- `NumeralCalculator`의 경우 모든 메서드를 `package-private` 하게 설정하였는데, 이건 `PostfixSolver`와만 같이 쓰일 것이며, 외부에서의 불필요한 접근을 막는다는 의미였습니다.



#### `Repository`입니다.

- 위에서 말씀드린 저장 기능을 수행합니다.

- `configuration` 패키지입니다.
  - `Config`의 경우 현재의 설정 정보를 저장하고, 읽어들이는 역할을 갖습니다.
    - `set()`메서드의 경우 나중에 파일을 열어서 설정정보를 읽는 식으로 확장하기 위해 `apply()`와 분리해 두었습니다.
  - `ObjectContainer`의 경우 복잡한 의존성을 관리하기 위해서 한 번에 객체를 생성하고 의존성을 주입하는 역할을 담당합니다.



#### 추가적인 의문사항입니다.

- OOP적으로 현재 구조에서 어떻게 수정할 수 있을지 배우고 싶습니다.

- TDD에 관해서, 작은 기능 하나라도 만들면 그걸 mock으로 독립된 unit으로 분리하여 테스트 해야 하는데,
  그 unit의 단위가 감이 잘 안 잡힙니다. mock을 만드는 것도 감이 잘 안 잡히구요.

- 실행 흐름을

  - Menu--input-->PostfixParser(변환된 postfixExpression 리턴)

  - Menu--postfixExpression-->Solver(계산 완료 후 결과 리턴)
    형태로 잡았습니다.
  - Menu--input-->PostfixParser--postfixExpression-->Solver
    처럼 연쇄적으로 만드는 것과 둘 중에 어떤 것이 더 나을지 판단이 잘 안 섰습니다.

- 혼자서 git flow를 적용해보려고 하니 어렵습니다.
  - 현재 개발하려고 하는 기능에 관련된 부분만 건드리면서 개발해야 하나요?
  - 그러던 와중에 실수를 바로잡다가 repo를 아예 리셋해서, 이전 커밋을 날려먹었습니다. 기록이 부족한 점 죄송합니다.
- 객체지향적 방식으로 개발하려고 애쓰다 보니까 스프링과 유사한 기술을 필요로 하게 되는데 (스프링 컨테이너, AOP)
  만약에 이런 기술들을 이용해서 객체지향적으로 개발한다고 해도 사실은 스프링이라는 외부 기술에 큰 의존성을 갖게 되는것 아닌지 궁금했습니다.
- javaDocs를 어떻게, 어느 정도의 정보를 전달해야 하는지 감이 잘 안 잡힙니다.
