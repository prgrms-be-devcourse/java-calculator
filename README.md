# 과제 설명

- 콘솔로 사용자의 입력을 받아 사칙연산을 수행하는 정수형 계산기
- 객체지향적인 코드로 구현하기
- 테스트 코드 구현하기

# 요구 사항과 구현 내용

- 초기 메뉴 선택은 1, 2 중 하나만 입력한다.
- 1을 입력했을 때 (조회)
    - 계산 이력을 순서대로 출력한다.
- 2를 입력했을 때 (계산)
    - 계산식을 입력한다. → 다음 줄에 계산한 결과를 출력한다.
        - 연산자와 피연산자를 공백 구분하여 입력한다.
            - ex) 1 + 1, 2   *  -2
        - 연산자는 +, -, *, / 만 사용한다.
        - 피연산자가 음수인 경우에도 계산식에 연산자를 반드시 포함한다.

# 예외 처리

- 초기 메뉴 선택
    - 1과 2가 아닌, 다른 숫자를 입력했을 때 ⇒ `선택한 숫자값이 유효하지 않습니다.` 출력
    - ex) 0, 3
- 2를 입력했을 때 (계산)
    - 공백이 입력된 경우 ⇒ `빈 계산식이 입력되었습니다.` 출력
    - 연산자와 피연산자 사이에 공백이 존재하지 않는 경우 ⇒ `유효한 계산식이 아닙니다.` 출력
        - ex) 1+1
    - 연산자가 연속으로 나오는 경우 ⇒ `유효한 계산식이 아닙니다.` 출력
        - ex) 1 2 + 3
    - 피연산자가 연속으로 나오는 경우 ⇒ `유효한 계산식이 아닙니다.` 출력
        - ex) 1 + * 3
    - +, -, *, / 이외의 연산자가 존재하는 경우 ⇒ `연산자가 잘못되었습니다. +, -, *, / 연산자만 입력해주세요.` 출력
        - ex) 1 & 2
    - 계산식이 피연산자가 아닌 문자로 끝나는 경우 ⇒ `유효한 계산식이 아닙니다.` 출력
        - ex) 1 + 2 +
    - 0으로 나누는 연산이 있는 경우 ⇒ `0으로 나눌 수 없습니다.` 출력
        - ex) 1 / 0
        
# 구조

- AppConfig 애플리케이션 설정 클래스을 구현하여 애플리케이션 전체의 사용영역과 구성영역을 구분하였다.
- 계산 이력을 저장하기 위해 인메모리 저장 방식을 사용하였다.

## AppConfig

- 애플리케이션의 전체 구동 방식을 구성하기 위해, 실제 동작에 필요한 구현 객체를 생성하고 연결하는 책임을 가지는 별도의 설정 클래스
- 구현 객체 생성
    - `Calculator`, `Console`, `CalculateServiceImpl`, `HistoryServiceImpl`, `MemoryRepository`, `ValidatorImpl`, `TokenizerImpl` 구현 객체를 생성한다.
- 생성한 객체 인스턴스의 참조를 생성자를 통해서 주입
    - `Calculator` → `Console`, `Console`, `CalculateServiceImpl`, `HistoryServiceImpl`, `ValidatorImpl`
    - `CalculateServiceImpl` → `TokenizerImpl`
    - `ValidatorImpl` → `ToeknizerImpl`

## Calculator

- 정수형 계산기 메인 로직 클래스
- Input, Output에 의존하여 입출력을 수행한다.

## Calculation

- String 타입의 계산식과 계산 결과를 담은 이력을 담은 Entity 클래스

## ErrorMessage

- 에러 메시지를 모아둔 Enum 클래스

## Operator

- 연산자 Enum 클래스
- calculate 메서드는 연산자와 숫자 2개를 파라미터로 입력 받으면 사칙연산을 진행한다.
- 단순 사칙연산을 switch문이 아닌 Operator Enum 클래스를 구현함으로써 책임을 Operator Enum으로 전가하였다.

## Input

- 입력 담당 인터페이스

## Output

- 출력 담당 인테페이스

## Console

- Input, Output 인터페이스를 상속 받아 입출력을 수행하는 구현체 클래스

## HistoryServiceImpl

- 계산식과 계산 결과를 저장하고, 계산 이력을 순서대로 담은 객체 반환을 수행하는 클래스

## CalculateServiceImpl

- 계산식(중위표기식)을 파라미터로 받고 후위표기식으로 변환 후 계산하는 로직을 담은 클래스

## MemoryRepository

- 계산 이력 저장소 구현체
- 계산 이력을 인메모리 저장하기 위해 ArrayList 자료구조를 사용하였다.

## TokenizerImpl

- String 타입의 계산식을 List 객체로 토큰화 시키는 클래스

## ValidatorImpl

- 입력 받은 계산식의 유효성 검사를 담당하는 클래스
- 유효성 검사 로직을 메서드로 구현하였다.